{"version":3,"sources":["index.js"],"names":["galleryItems","preview","original","description","galleryListRef","document","querySelector","modalImgRef","modalRef","buttonRef","markup","map","index","join","innerHTML","onOpenModalClick","e","preventDefault","updateAttr","src","alt","dataset","classList","add","target","source","onKeyboardClick","key","remove","onCloseModalClick","localName","onArrowLeft","newSrc","length","onArrowRight","step","addEventListener","window","code"],"mappings":";AAAA,MAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAIXC,EAAiBC,SAASC,cAAc,eACxCC,EAAcF,SAASC,cAAc,oBACrCE,EAAWH,SAASC,cAAc,aAClCG,EAAYJ,SAASC,cAAc,qBAEnCI,EAASV,EACZW,IACC,EAAGV,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,GAAeS,uGAGNX,mBAAyBC,WAAkBC,kBAA4BS,mBAEvGC,KAAK,IAERT,EAAeU,UAAYJ,EAE3B,MAAMK,EAAmBC,IACvBA,EAAEC,iBAIOC,SAAWC,EAAM,GAAIC,EAAM,GAAIR,EAAQ,GAC9CL,EAAYY,IAAMA,EAClBZ,EAAYa,IAAMA,EAClBb,EAAYc,QAAQT,MAAQA,EAE5BJ,EAASc,UAAUC,IAAI,WAPzBL,CAAWF,EAAEQ,OAAOH,QAAQI,OAAQT,EAAEQ,OAAOJ,IAAKJ,EAAEQ,OAAOH,QAAQT,QAW/Dc,EAAkBV,IACR,WAAVA,EAAEW,KACJnB,EAASc,UAAUM,OAAO,YAIxBC,EAAoBb,IACG,QAAvBA,EAAEQ,OAAOM,YACXtB,EAASc,UAAUM,OAAO,WAE1BV,eAiBJ,SAASa,IACHnB,IAAAA,GAASL,EAAYc,QAAQT,MACnB,IAAVA,EAIJoB,EAAOpB,GAAQ,GAHboB,EAAOhC,EAAaiC,OAAS,GAKjC,SAASC,IACHtB,IAAAA,GAASL,EAAYc,QAAQT,MAC7BA,IAAUZ,EAAaiC,OAAS,EAIpCD,EAAOpB,EAAO,GAHZoB,EAAO,GAMX,SAASA,EAAOpB,EAAOuB,EAAO,GAC5B5B,EAAYc,QAAQT,SAAWA,EAAQuB,IACvC5B,EAAYY,IAAMnB,EAAaY,EAAQuB,GAAMjC,SAhC/CE,EAAegC,iBAAiB,QAASrB,GACzCsB,OAAOD,iBAAiB,QAASV,GACjCW,OAAOD,iBAAiB,QAASP,GAEjCQ,OAAOD,iBAAiB,UAAWpB,IAClB,cAAXA,EAAEsB,MACJP,IAEa,eAAXf,EAAEsB,MACJJ","file":"src.804d0e85.js","sourceRoot":"../src","sourcesContent":["const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\nconst galleryListRef = document.querySelector('.js-gallery');\nconst modalImgRef = document.querySelector('.lightbox__image');\nconst modalRef = document.querySelector('.lightbox');\nconst buttonRef = document.querySelector('.lightbox__button');\n\nconst markup = galleryItems\n  .map(\n    ({ preview, original, description }, index) =>\n      `<li class=\"gallery__item\">\n<a class=\"gallery__link\" href=''>\n<img class=\"gallery__image\" src=\"${preview}\" data-source=\"${original}\" alt=\"${description}\" data-index=\"${index}\"/> </a> </li>`,\n  )\n  .join('');\n\ngalleryListRef.innerHTML = markup;\n\nconst onOpenModalClick = e => {\n  e.preventDefault();\n\n  updateAttr(e.target.dataset.source, e.target.alt, e.target.dataset.index);\n\n  function updateAttr(src = '', alt = '', index = 0) {\n    modalImgRef.src = src;\n    modalImgRef.alt = alt;\n    modalImgRef.dataset.index = index;\n\n    modalRef.classList.add('is-open');\n  }\n};\n\nconst onKeyboardClick = e => {\n  if (e.key === 'Escape') {\n    modalRef.classList.remove('is-open');\n  }\n};\n\nconst onCloseModalClick = e => {\n  if (e.target.localName !== 'img') {\n    modalRef.classList.remove('is-open');\n\n    updateAttr();\n  }\n};\n\ngalleryListRef.addEventListener('click', onOpenModalClick);\nwindow.addEventListener('keyup', onKeyboardClick);\nwindow.addEventListener('click', onCloseModalClick);\n\nwindow.addEventListener('keydown', e => {\n  if (e.code === 'ArrowLeft') {\n    onArrowLeft();\n  }\n  if (e.code === 'ArrowRight') {\n    onArrowRight();\n  }\n});\n\nfunction onArrowLeft() {\n  let index = +modalImgRef.dataset.index;\n  if (index === 0) {\n    newSrc(galleryItems.length - 1);\n    return;\n  }\n  newSrc(index, -1);\n}\nfunction onArrowRight() {\n  let index = +modalImgRef.dataset.index;\n  if (index === galleryItems.length + 1) {\n    newSrc(0);\n    return;\n  }\n  newSrc(index, 1);\n}\n\nfunction newSrc(index, step = 0) {\n  modalImgRef.dataset.index = `${index + step}`;\n  modalImgRef.src = galleryItems[index + step].original;\n}"]}